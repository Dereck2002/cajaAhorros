{% extends "base.html" %}

{% block title %}Mi Perfil - {{ socio.nombre }} {{ socio.apellido }}{% endblock %}

{% block content %}
<div class="container mt-4">
    <h3>Bienvenido, {{ socio.nombre }}</h3>
    <p>Este es el resumen de tu información en la caja de ahorro.</p>

    <hr>

    <div class="row">
        <!-- Resumen de Aportes -->
        <div class="col-md-6">
            <h4>Mis Aportaciones</h4>
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Saldo Actual de Aportes</h5>
                    <p class="card-text fs-4 text-success">${{ saldo|floatformat:2 }}</p>
                    <a href="{% url 'ver_aportaciones_socio' socio.id %}" class="btn btn-primary">Ver Historial Completo</a>
                </div>
            </div>
        </div>

        <!-- Resumen de Préstamos -->
        <div class="col-md-6">
            <h4>Mis Préstamos</h4>
            <div class="card">
                <div class="card-body">
                    <p>Aquí puedes ver el estado de tus préstamos.</p>
                    {% if prestamos %}
                        <ul class="list-group">
                        {% for prestamo in prestamos %}
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                Préstamo de ${{ prestamo.cantidad_aprobada|floatformat:2 }}
                                <span class="badge 
                                    {% if prestamo.estado == 'Aprobado' %}bg-success
                                    {% elif prestamo.estado == 'Rechazado' %}bg-danger
                                    {% else %}bg-warning{% endif %}">
                                    {{ prestamo.estado }}
                                </span>
                            </li>
                        {% endfor %}
                        </ul>
                    {% else %}
                        <p>No tienes préstamos registrados.</p>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
